<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Playwright Locators Demo</title>
    <style>
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        margin: 0;
        padding: 24px;
        background: #0f172a;
        color: #e5e7eb;
      }

      h1,
      h2 {
        margin-top: 24px;
        color: #f9fafb;
      }

      .section {
        margin-bottom: 24px;
        padding: 16px;
        border-radius: 8px;
        background: #111827;
        border: 1px solid #1f2937;
      }

      label {
        display: block;
        margin-bottom: 4px;
      }

      input,
      button,
      select,
      textarea {
        margin: 4px 0 12px;
        padding: 6px 10px;
        border-radius: 4px;
        border: 1px solid #374151;
        background: #020617;
        color: #e5e7eb;
      }

      button {
        cursor: pointer;
        background: #2563eb;
        border-color: #1d4ed8;
      }

      button:hover {
        background: #1d4ed8;
      }

      .list {
        border: 1px solid #374151;
        border-radius: 4px;
        padding: 8px 12px;
        list-style: none;
      }

      .list li {
        padding: 4px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .tag {
        display: inline-block;
        font-size: 12px;
        padding: 2px 6px;
        border-radius: 999px;
        background: #1f2937;
        color: #9ca3af;
        margin-left: 8px;
      }

      .muted {
        color: #9ca3af;
        font-size: 14px;
      }

      img {
        max-height: 40px;
        margin-top: 8px;
      }

      .dialog-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.7);
        display: none;
        align-items: center;
        justify-content: center;
      }

      .dialog {
        background: #020617;
        border-radius: 8px;
        padding: 16px 20px;
        min-width: 260px;
        border: 1px solid #1f2937;
      }

      .dialog-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }

      .chip {
        display: inline-flex;
        align-items: center;
        padding: 2px 8px;
        border-radius: 999px;
        background: #1e293b;
        font-size: 12px;
        color: #9ca3af;
      }

      .loader {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 999px;
        border: 2px solid #4b5563;
        border-top-color: #22c55e;
        animation: spin 0.7s linear infinite;
        margin-right: 6px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <h1>Playwright Locators Demo Page</h1>

    <!-- getByRole, getByText, getByTestId -->
    <section class="section" aria-label="Primary actions">
      <h2>Actions (getByRole, getByText, getByTestId)</h2>
      <button id="submit">Submit</button>
      <button data-testid="cancel-button">Cancel</button>
      <button aria-disabled="true">Disabled</button>

      <div style="margin-top: 12px">
        <span>Welcome, User!</span>
        <span class="tag">getByText</span>
      </div>
    </section>

    <!-- getByLabel, getByPlaceholder -->
    <section class="section">
      <h2>Form (getByLabel, getByPlaceholder)</h2>

      <label for="email">Email</label>
      <input id="email" type="email" />

      <label for="terms">
        <input id="terms" type="checkbox" />
        terms
      </label>

      <div>
        <input id="search" placeholder="Search..." type="text" style="width: 220px" />
        <span class="tag">placeholder="Search..."</span>
      </div>
    </section>

    <!-- getByAltText, getByTitle -->
    <section class="section">
      <h2>Media (getByAltText, getByTitle)</h2>
      <div>
        <img src="https://via.placeholder.com/120x40?text=Logo" alt="Company Logo" />
        <span class="tag">alt="Company Logo"</span>
      </div>
      <div style="margin-top: 12px">
        <span title="Close" style="cursor: pointer; font-size: 20px">×</span>
        <span class="tag">title="Close"</span>
      </div>
    </section>

    <!-- List / nth / filter / parent locator -->
    <section class="section">
      <h2>Products list (first, last, nth, filter, parent)</h2>
      <ul class="list" role="list">
        <li role="listitem">
          <div>
            <span>Product Alpha</span>
            <span class="tag">Item</span>
          </div>
          <div>
            <label>
              <input type="checkbox" />
              In stock
            </label>
            <button>Details</button>
          </div>
        </li>
        <li role="listitem">
          <div>
            <span>Product Beta</span>
            <span class="tag">Item</span>
          </div>
          <div>
            <label>
              <input type="checkbox" />
              In stock
            </label>
            <button>Details</button>
          </div>
        </li>
        <li role="listitem">
          <div>
            <span>Product Gamma</span>
            <span class="tag">Item</span>
          </div>
          <div>
            <label>
              <input type="checkbox" />
              In stock
            </label>
            <button>Details</button>
          </div>
        </li>
      </ul>
    </section>

    <!-- Loading / waitFor -->
    <section class="section">
      <h2>Loading &amp; Dialog (waitFor, getByRole('dialog'))</h2>
      <div id="loading-row">
        <span id="loading-indicator"> <span class="loader"></span> <span>Loading...</span> </span>
        <button id="finish-loading" data-testid="finish-loading">Finish loading</button>
      </div>

      <div style="margin-top: 16px">
        <button id="open-dialog" data-testid="open-dialog">Open dialog</button>
      </div>
    </section>

    <!-- Dialog -->
    <div
      id="dialog-backdrop"
      class="dialog-backdrop"
      role="dialog"
      aria-modal="true"
      aria-label="Sample dialog">
      <div class="dialog" data-testid="modal">
        <div class="dialog-header">
          <strong>Sample dialog</strong>
          <button id="close-dialog" title="Close">×</button>
        </div>
        <div style="margin-top: 8px">
          <span class="chip">
            <span class="loader"></span>
            dialog
          </span>
        </div>
      </div>
    </div>

    <script>
      // Эмуляция загрузки
      const finishBtn = document.getElementById('finish-loading');
      const loadingIndicator = document.getElementById('loading-indicator');

      finishBtn?.addEventListener('click', () => {
        if (loadingIndicator) {
          loadingIndicator.classList.add('hidden');
        }
      });

      // Диалог
      const openDialogBtn = document.getElementById('open-dialog');
      const dialogBackdrop = document.getElementById('dialog-backdrop');
      const closeDialogBtn = document.getElementById('close-dialog');

      openDialogBtn?.addEventListener('click', () => {
        if (dialogBackdrop) {
          dialogBackdrop.style.display = 'flex';
        }
      });

      closeDialogBtn?.addEventListener('click', () => {
        if (dialogBackdrop) {
          dialogBackdrop.style.display = 'none';
        }
      });
    </script>
  </body>
</html>
